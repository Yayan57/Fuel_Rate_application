<!DOCTYPE html>
<html>
    <script>
        function calculate_ppg(gallons) {
            var requestedFactor = 0.03;
            if (gallons.value > 1000) requestedFactor = 0.02;

            var historyFactor = 0.01;
            var locationFactor = 0.02;
            
            var margin = 1.50 * (locationFactor - historyFactor + requestedFactor + 0.10);
            var ppg = 1.50 * margin;
            var total = ppg * gallons.value;
            document.getElementById("price_per_gallon").textContent=ppg;
            document.getElementById("total_amount").textContent=total;
        }
    </script>

    <head>
        <title>Fuel Quote Form</title>
        <link rel="stylesheet" type="text/css" href="styles.css"> <!-- Link to your CSS file -->
    </head>

    <body>
        <header id="header">
            <a href="Client_Profile_Managment.html">Profile Management</a>
            <a href="Fuel_Quote_Form.html">Fuel Quote Order Form</a>
            <a href="fuel_quote_history.html">Order History</a>
            <a href="loginpage.html">Log Out</a>
        </header>
        
        <h1>Fuel Quote Form</h1>
        <form id="fuelQuoteForm" action="/Fuel_Quote_Form.js/orders" method="post"> <!--fix this-->
            
            <label for="gallons_requested">Gallons Requested:</label>
            <input type="number" id="gallons_requested" name="gallons_requested" min="1" onchange="calculate_ppg(this);" required>
            <br><br>

            <label for="delivery_address">Delivery Address:</label>
            <input type="text" id="delivery_address" name="delivery_address" required>
            <!-- Add address from profile management here -->
            <br><br>

            <label for="delivery_date">Delivery Date:</label>
            <input type="date" id="delivery_date" name="delivery_date" required>
            <br><br>

            <label for="price_per_gallon">Price Per Gallon:</label>
            <span id="price_per_gallon">$1.50</span>
            <!-- Add pricing module stuff here -->
            <br><br>

            <label for="total_amount">Total Amount:</label>
            <span>$</span><span id="total_amount">0</span>
            <br><br>

            <a href="fuel_quote_history.html">
                <input type="submit" value="Submit Order">
            </a>
        </form>
    </body>
</html>
